{"version":3,"sources":["components/favorites/style.module.css","AuthContext.js","components/chat/style.module.css","components/home/style.module.css","components/home/footer.js","components/favorites/navBar.js","components/chat/message.js","VerifyAuth.js","components/chat/conversation.js","components/chat.js","App.js","index.js"],"names":["module","exports","AuthContext","createContext","AuthProvider","props","logoutTimer","useState","countriesList","categoryList","localStorage","getItem","auth","setauth","user","setuser","expirationTime","setexpirationTime","connected","setconnected","login","useCallback","token","expiration","Date","getTime","setItem","JSON","stringify","toString","logout","removeItem","useLayoutEffect","storedData","parse","userData","remainingTime","setTimeout","clearTimeout","Provider","value","isLogged","children","Footer","className","HomeCss","copyDiv","href","to","onClick","logo2","src","alt","NavBar","refMenu","useRef","useContext","theme","document","documentElement","RestCss","themelight","themedark","navbar","logoDiv","big","loading","small","addDiv","infosDiv","menu","ref","categs","navi","dark","toggleButtonCover","buttonCover","button","r","id","button3","type","checkbox","onChange","e","target","checked","defaultChecked","knobs","layer","profile","profileImg","process","username","hamDiv","hamcheck","current","style","ham","Message","message","own","owner","BookCss","messageOwn","messageTop","messageImg","messageText","text","messageBottom","format","createdAt","VerifyAuth","exact","Conversation","conversation","currentUser","setUser","useEffect","ownerId","members","find","m","_id","getUser","a","axios","res","data","console","log","conversationImg","API_URL","conversationName","Chat","userId","conversations","setConversations","currentChat","setCurrentChat","messages","setMessages","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","setowner","socket","scrollRef","ChatCss","window","location","reload","io","transports","upgrade","on","sender","senderId","includes","prev","emit","getConversations","get","getMessages","handleSubmit","preventDefault","conversationId","now","receiverId","member","post","filter","scrollIntoView","behavior","messenger","chatMenu","chatMenuWrapper","map","c","chatBox","chatBoxWrapper","chatHeader","chatBoxTop","chatBoxBottom","chatMessageInput","placeholder","chatSubmitButton","noConversationText","Login","lazy","Home","BookDetails","Favorites","YourBooks","AddBook","EditProfile","EditBook","About","App","fallback","from","path","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.29c58bcb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"themelight\":\"style_themelight__3ufPy\",\"themedark\":\"style_themedark__2SNYZ\",\"logoDiv\":\"style_logoDiv__3amyv\",\"addDiv\":\"style_addDiv__2PCi4\",\"big\":\"style_big__3Owfa\",\"small\":\"style_small__qmWgm\",\"navbar\":\"style_navbar__16IKj\",\"infosDiv\":\"style_infosDiv__2IoVb\",\"hamDiv\":\"style_hamDiv__3nUm-\",\"ham\":\"style_ham__20-ko\",\"hamcheck\":\"style_hamcheck__2U8VU\",\"menu\":\"style_menu__2fKkl\",\"categs\":\"style_categs__3cQG9\",\"navi\":\"style_navi__3hi_N\",\"dark\":\"style_dark__3L-6W\",\"toggleButtonCover\":\"style_toggleButtonCover__17mc-\",\"buttonCover\":\"style_buttonCover__lCZZn\",\"knobs\":\"style_knobs__fvkKc\",\"layer\":\"style_layer__vHqMB\",\"button\":\"style_button__16zfJ\",\"r\":\"style_r__3MPxe\",\"b2\":\"style_b2__37QhZ\",\"checkbox\":\"style_checkbox__3rxx6\",\"button3\":\"style_button3__3WL8S\",\"profile\":\"style_profile__2giG4\",\"main\":\"style_main__3kioI\",\"welcome\":\"style_welcome__2fHWa\",\"halfs\":\"style_halfs__3QtMl\",\"half1\":\"style_half1__C36Vn\",\"phrases\":\"style_phrases__30yNu\",\"half2\":\"style_half2__1Y1if\",\"routes\":\"style_routes__321WP\",\"router\":\"style_router__1q8Ke\",\"books\":\"style_books__SoYlw\",\"bookslist\":\"style_bookslist__2fwwE\",\"book\":\"style_book__3A3ah\",\"bookdetails\":\"style_bookdetails__1ATMg\",\"bookcover\":\"style_bookcover__1Zhsk\",\"bookname\":\"style_bookname__Iyedv\",\"love\":\"style_love__3xFwf\",\"bookgen\":\"style_bookgen__3r-4l\",\"bookdesc\":\"style_bookdesc__2b1lW\",\"edit\":\"style_edit__2vVYw\",\"editBtn\":\"style_editBtn__3NX10\",\"delBtn\":\"style_delBtn__1D5HW\",\"imgsticky\":\"style_imgsticky__1Jll8\",\"slide\":\"style_slide__1cNIh\"};","import React, { createContext, useState, useLayoutEffect, useCallback } from 'react'\r\n\r\nexport const AuthContext = createContext()\r\n\r\nexport const AuthProvider = (props) => {\r\n\r\n    const [countriesList, setcountriesList] = useState(['Jordan', 'Palestine', 'Iraq', 'Ksa', 'egypt', 'Lebanon'])\r\n    const [categoryList, setcategoryList] = useState(['islamic', 'story', 'food', 'culuture', 'science', 'education', 'other'])\r\n    const [auth, setauth] = useState(localStorage.getItem('token') || null)\r\n    const [user, setuser] = useState(localStorage.getItem('user') || null)\r\n    const [expirationTime, setexpirationTime] = useState()\r\n    let logoutTimer;\r\n    const [connected, setconnected] = useState(false)\r\n\r\n\r\n\r\n    const login = useCallback((token, user ,expirationTime) => {\r\n        setauth({token})\r\n        setuser(user)\r\n\r\n        const expiration = expirationTime || new Date(new Date().getTime() + 60 * 60 * 24 * 1000);\r\n\r\n        setexpirationTime(expiration);     //set expiration time one hour from current time\r\n\r\n        localStorage.setItem(\r\n            \"token\",\r\n            JSON.stringify({\r\n                token:token,\r\n                expirationTime: expiration.toString()\r\n            })\r\n        );\r\n        localStorage.setItem(\"user\",JSON.stringify(user))\r\n\r\n    }, []);\r\n\r\n\r\n    const logout = useCallback(() => {\r\n        setauth(null);\r\n        setexpirationTime(null);\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('user');\r\n    }, []);\r\n\r\n\r\n\r\n    //hook to check if something is there in localStorage and logs user in accordingly\r\n    useLayoutEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('token'));\r\n        const userData = JSON.parse(localStorage.getItem('user'));\r\n        if (storedData && userData &&storedData.token && new Date(storedData.expirationTime) > new Date()) {\r\n            login(storedData.token , userData , new Date(storedData.expirationTime));\r\n        }\r\n    }, [login]);\r\n\r\n\r\n\r\n    //new useEffect hook to set the timer if the expiration time is in future otherwise we clear the timer here\r\n    useLayoutEffect(() => {\r\n        if (auth && expirationTime) {\r\n            const remainingTime = expirationTime.getTime() - new Date().getTime();\r\n            logoutTimer = setTimeout(logout, remainingTime);\r\n        } else {\r\n            clearTimeout(logoutTimer);\r\n        }\r\n    }, [auth, logout, expirationTime]);\r\n\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        localStorage.setItem(\"user\",JSON.stringify(user))\r\n    },[user])\r\n    return (\r\n        <AuthContext.Provider value={{ isLogged: !!auth ,login, logout,user,setuser , countriesList , categoryList , connected, setconnected}}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themelight\":\"style_themelight__-uui5\",\"themedark\":\"style_themedark__aEN7a\",\"messengerSmall\":\"style_messengerSmall__1hu_5\",\"messenger\":\"style_messenger__2yM2l\",\"chatMenu\":\"style_chatMenu__3lpux\",\"chatMenuInput\":\"style_chatMenuInput__1fPhi\",\"chatBox\":\"style_chatBox__1InA2\",\"chatBoxWrapper\":\"style_chatBoxWrapper__ZULJA\",\"chatBoxTop\":\"style_chatBoxTop__2BC_a\",\"chatBoxBottom\":\"style_chatBoxBottom__dZ4oe\",\"chatMessageInput\":\"style_chatMessageInput__2JrUJ\",\"chatSubmitButton\":\"style_chatSubmitButton__1-Ymx\",\"chatOnline\":\"style_chatOnline__2nVoJ\",\"chatMenuWrapper\":\"style_chatMenuWrapper__39DKK\",\"chatOnlineWrapper\":\"style_chatOnlineWrapper__4yl8p\",\"noConversationText\":\"style_noConversationText__1TJot\",\"chatHeader\":\"style_chatHeader__3c7nK\",\"conversation\":\"style_conversation__2Gifv\",\"conversationImg\":\"style_conversationImg__2w7Bl\",\"conversationName\":\"style_conversationName__1xpXq\",\"message\":\"style_message__GtVb1\",\"messageOwn\":\"style_messageOwn__RliBt\",\"messageTop\":\"style_messageTop__w2zda\",\"messageImg\":\"style_messageImg__XtEAY\",\"messageText\":\"style_messageText__3gfD3\",\"messageBottom\":\"style_messageBottom__12ciK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"themelight\":\"style_themelight__I2sSz\",\"themedark\":\"style_themedark__AFUnQ\",\"logoDiv\":\"style_logoDiv__1njC0\",\"addDiv\":\"style_addDiv__1nDu6\",\"big\":\"style_big__2ewRC\",\"small\":\"style_small__5SsEp\",\"navbar\":\"style_navbar__1vng-\",\"infosDiv\":\"style_infosDiv__2xqdA\",\"hamDiv\":\"style_hamDiv__3uT4D\",\"ham\":\"style_ham__3U0LR\",\"hamcheck\":\"style_hamcheck__Vt8S6\",\"menu\":\"style_menu__3uhST\",\"categs\":\"style_categs__2FHof\",\"categorys\":\"style_categorys__1JPAq\",\"dropdown\":\"style_dropdown__2qj8n\",\"countriesSelect\":\"style_countriesSelect__1kh3n\",\"navi\":\"style_navi__2FbXx\",\"dark\":\"style_dark__1BZJ2\",\"toggleButtonCover\":\"style_toggleButtonCover__1BAEa\",\"buttonCover\":\"style_buttonCover__1ttuG\",\"knobs\":\"style_knobs__2-d_R\",\"layer\":\"style_layer__1vfzS\",\"button\":\"style_button__3_9yO\",\"r\":\"style_r__3c28x\",\"b2\":\"style_b2__xULH-\",\"checkbox\":\"style_checkbox__OEcLe\",\"button3\":\"style_button3__3LGdR\",\"profile\":\"style_profile__1qqiT\",\"main\":\"style_main__3ZPNl\",\"welcome\":\"style_welcome__20lyl\",\"halfs\":\"style_halfs__1w8v6\",\"half1\":\"style_half1__4mxRN\",\"phrases\":\"style_phrases__QmOd5\",\"half2\":\"style_half2__zA4t7\",\"routes\":\"style_routes__vnunl\",\"router\":\"style_router__2CGWP\",\"types\":\"style_types__hU0Ar\",\"typesround\":\"style_typesround__1tYFr\",\"books\":\"style_books__3jpOT\",\"search\":\"style_search__32yd1\",\"filters\":\"style_filters__3wTuR\",\"bookslist\":\"style_bookslist__1KFw_\",\"book\":\"style_book__4foD3\",\"bookdetails\":\"style_bookdetails__1JVJi\",\"bookname\":\"style_bookname__mCQo3\",\"love\":\"style_love__3T3U6\",\"bookgen\":\"style_bookgen__2ucGp\",\"bookdesc\":\"style_bookdesc__3YfzY\",\"loader\":\"style_loader__2XDzx\",\"clones2\":\"style_clones2__sAosZ\",\"cl2\":\"style_cl2__HQwpl\",\"countries\":\"style_countries__ez3rf\",\"addsticky\":\"style_addsticky__39IbQ\",\"imgsticky\":\"style_imgsticky__1Ojwl\",\"logo2\":\"style_logo2__2bA13\",\"slide\":\"style_slide__1mhu9\",\"countriesModal\":\"style_countriesModal__2EaKz\",\"country\":\"style_country__2FAK0\",\"copyDiv\":\"style_copyDiv__1JAag\"};","import HomeCss from './style.module.css';\r\nimport { Link } from 'react-router-dom'\r\nfunction Footer(props) {\r\n    return (\r\n        <>\r\n            <footer>\r\n                <div className={HomeCss.copyDiv}>\r\n                    <span>@ 2021 copyright for Bookent Team</span>\r\n                    <a href='mailto:bookenteto10@gmail.com'><span>Email us</span></a>\r\n                </div>\r\n\r\n                <ul>\r\n                    <Link to='/home'>\r\n                        <li>Home</li>\r\n                    </Link>\r\n                    <Link to='/about'>\r\n                        <li>About</li>\r\n                    </Link>\r\n                    <li onClick={props.logout}>Log out</li>\r\n                </ul>\r\n\r\n                <div className={HomeCss.logo2}>\r\n                    <Link to='/home'>\r\n                        <img src=\"/assets/bookent logo black.svg\" alt='bookent logo'/>\r\n                    </Link>\r\n                </div>\r\n            </footer>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Footer\r\n","import React, { useRef, useContext,useLayoutEffect} from 'react';\r\nimport RestCss from './style.module.css';\r\nimport { AuthContext } from '../../AuthContext'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nfunction NavBar(props) {\r\n    const refMenu = useRef()\r\n    const { logout, user } = useContext(AuthContext)\r\n\r\n    function showMenu(e) {\r\n        if (e.target.checked) {\r\n            refMenu.current.style = 'display:flex'\r\n        }\r\n        else {\r\n            refMenu.current.style = 'display:none'\r\n        }\r\n    }\r\n\r\n    useLayoutEffect(() => {\r\n        let theme = localStorage.getItem('theme')\r\n        document.documentElement.className = theme.toString() === 'themelight' ?\r\n            RestCss.themelight : RestCss.themedark\r\n    }, []) \r\n\r\n    function darkToggle(e) {\r\n        if (e.target.checked) {\r\n            document.documentElement.className = RestCss.themedark\r\n            localStorage.setItem('theme', 'themedark')\r\n        } else {\r\n            document.documentElement.className = RestCss.themelight\r\n            localStorage.setItem('theme', 'themelight')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={RestCss.navbar}>\r\n            <div className={RestCss.logoDiv}>\r\n                    <Link to='/home'>\r\n                        <img src=\"/assets/bookent logo black.svg\" className={RestCss.big} loading='lazy' alt='bookent logo'/>\r\n                        <img src=\"/assets/logo small.svg\" className={RestCss.small} loading='lazy' alt='bookent logo'/>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={RestCss.addDiv}>\r\n                    <Link to='/addBook'>\r\n                        <img src=\"/assets/add.svg\" alt='add book'/>\r\n                    </Link>\r\n                </div>\r\n\r\n                <div className={RestCss.infosDiv}>\r\n                    <div className={RestCss.menu} ref={refMenu}>\r\n\r\n                        <div className={RestCss.categs}>\r\n\r\n                            <div className={RestCss.navi}>\r\n                                <Link to='/home'>\r\n                                    <div>\r\n                                        <p>Home</p>\r\n                                    </div>\r\n                                </Link>\r\n                            </div>\r\n\r\n                            <div className={RestCss.navi}>\r\n                            <Link to='/chat'>\r\n                                <div>\r\n                                    <p>Messages</p>\r\n                                </div>\r\n                            </Link>\r\n                            </div>\r\n\r\n                            <div className={RestCss.navi}>\r\n                                <div onClick={logout}>\r\n                                    <p>Log out</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div className={RestCss.dark}>\r\n                            <div className={RestCss.toggleButtonCover}>\r\n                                <div className={RestCss.buttonCover}>\r\n                                    <div className={`${RestCss.button}  ${RestCss.r}`} id={RestCss.button3}>\r\n                                        <input type=\"checkbox\" className={RestCss.checkbox} onChange={darkToggle} defaultChecked={localStorage.getItem('theme') === 'themedark' ? true : false} />\r\n                                        <div className={RestCss.knobs}></div>\r\n                                        <div className={RestCss.layer}></div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Link to='/profile'>\r\n                            <div className={RestCss.profile}>\r\n                                <img src={user && user.profileImg && `${process.env.REACT_APP_API_URL}/usersImages/${user.profileImg}` || '/assets/user.svg'} alt='profile' />\r\n                                <span>{user && user.username}</span>\r\n                            </div>\r\n                        </Link>\r\n                    </div>\r\n\r\n                    <div className={RestCss.hamDiv}>\r\n                        <input type='checkbox' id={RestCss.hamcheck} onChange={showMenu} />\r\n                        <div id={RestCss.ham}></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </>\r\n    );\r\n}\r\n\r\nexport default NavBar;","import { format } from \"timeago.js\";\r\nimport BookCss from './style.module.css';\r\n\r\nexport default function Message({ message, own ,owner}) {\r\n  return (\r\n    <div className={own ? BookCss.messageOwn : BookCss.message}>\r\n      <div className={BookCss.messageTop}>\r\n        <img\r\n          className={BookCss.messageImg}\r\n          src={owner.profileImg &&`${process.env.REACT_APP_API_URL}/usersImages/${owner.profileImg}` || '/assets/user.svg'}\r\n          alt={owner.username}\r\n        />\r\n        <p className={BookCss.messageText}>{message.text}</p>\r\n      </div>\r\n      <div className={BookCss.messageBottom}>{format(message.createdAt)}</div>\r\n    </div>\r\n  );\r\n}","import React ,{useContext} from'react';\r\nimport {Redirect} from 'react-router-dom'\r\nimport {AuthContext} from './AuthContext'\r\n\r\nexport const VerifyAuth = ({children}) =>{\r\n    const isLogged =  useContext(AuthContext).isLogged || !!localStorage.getItem('token') \r\n    return isLogged ? children : <Redirect exact to='/'/>\r\n}","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport BookCss from './style.module.css';\r\n\r\nexport default function Conversation({ conversation, currentUser }) {\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const ownerId = conversation.members.find((m) => m !== currentUser._id);\r\n\r\n    const getUser = async () => {\r\n      try {\r\n        const res = await axios(`${process.env.REACT_APP_API_URL}/getOwner/${ownerId}`);\r\n        setUser(res.data);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    getUser();\r\n  }, [currentUser, conversation]);\r\n\r\n  return (\r\n    <div className={BookCss.conversation}>\r\n      <img\r\n        className={BookCss.conversationImg}\r\n        src={\r\n          user?.profileImg ?\r\n            `${process.env.API_URL}/usersImages/${user.profileImg}`\r\n            :\r\n            '/assets/user.svg'\r\n        }\r\n        alt=\"user\"\r\n      />\r\n      <span className={BookCss.conversationName}>{user?.username}</span>\r\n    </div>\r\n  );\r\n}","import { useContext, useEffect, useRef, useState } from 'react';\r\nimport { AuthContext } from '../AuthContext'\r\nimport axios from 'axios'\r\nimport NavBar from './favorites/navBar';\r\nimport Footer from './home/footer';\r\nimport Message from './chat/message'\r\nimport Conversation from './chat/conversation'\r\nimport { io } from \"socket.io-client\";\r\n\r\nimport ChatCss from './chat/style.module.css';\r\n\r\nfunction Chat() {\r\n    const { user, connected, setconnected } = useContext(AuthContext)\r\n    let userId = ''\r\n    if (user) userId = user._id\r\n\r\n    const [conversations, setConversations] = useState([]);\r\n    const [currentChat, setCurrentChat] = useState(null);\r\n    const [messages, setMessages] = useState([]);\r\n    const [newMessage, setNewMessage] = useState(\"\");\r\n    const [arrivalMessage, setArrivalMessage] = useState(null);\r\n    const [owner, setowner] = useState({});\r\n    const socket = useRef();\r\n    const scrollRef = useRef();\r\n\r\n\r\n    useEffect(() => {\r\n        let theme = localStorage.getItem('theme')\r\n        document.documentElement.className = theme.toString() === 'themelight' ?\r\n          ChatCss.themelight : ChatCss.themedark\r\n      }, [])\r\n    \r\n\r\n    useEffect(() => {\r\n        if (connected)\r\n            window.location.reload()\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        socket.current = io(`ws:${process.env.REACT_APP_CHAT_API}`, { transports: ['websocket'], upgrade: false });\r\n        setconnected(true)\r\n        socket.current.on(\"getMessage\", (data) => {\r\n            setArrivalMessage({\r\n                sender: data.senderId,\r\n                text: data.text,\r\n                createdAt: data.createdAt,\r\n            });\r\n        });\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        arrivalMessage &&\r\n            currentChat?.members.includes(arrivalMessage.sender) &&\r\n            setMessages((prev) => [...prev, arrivalMessage]);\r\n    }, [arrivalMessage, currentChat]);\r\n\r\n\r\n    useEffect(() => {\r\n        socket.current.emit(\"addUser\", userId);\r\n        // socket.current.on(\"getUsers\", (users) => {\r\n        //   setOnlineUsers(\r\n        //     user.followings.filter((f) => users.some((u) => u.userId === f))\r\n        //   );\r\n        // });\r\n    }, [user]);\r\n\r\n\r\n    //  get conv\r\n\r\n    useEffect(() => {\r\n        const getConversations = async () => {\r\n            try {\r\n                const res = await axios.get(`${process.env.REACT_APP_API_URL}/getConv/${userId}`);\r\n                setConversations(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getConversations();\r\n    }, [userId])\r\n\r\n\r\n    // get msgs\r\n\r\n    useEffect(() => {\r\n        const getMessages = async () => {\r\n            try {\r\n                const res = await axios.get(`${process.env.REACT_APP_API_URL}/getMsg/${currentChat?._id}`);\r\n                setMessages(res.data);\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        };\r\n        getMessages();\r\n    }, [currentChat])\r\n\r\n\r\n    // new msg\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (newMessage) {\r\n            const message = {\r\n                sender: userId,\r\n                text: newMessage,\r\n                conversationId: currentChat._id,\r\n                createdAt: Date.now()\r\n            };\r\n\r\n            const receiverId = currentChat.members.find(\r\n                (member) => member !== userId\r\n            );\r\n\r\n            socket.current.emit(\"sendMessage\", {\r\n                senderId: userId,\r\n                receiverId,\r\n                text: newMessage,\r\n            });\r\n\r\n            try {\r\n                const res = await axios.post(`${process.env.REACT_APP_API_URL}/addMsg/`, { message });\r\n                setMessages([...messages, res.data]);\r\n                setNewMessage(\"\");\r\n            } catch (err) {\r\n                console.log(err);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (currentChat) {\r\n            let ownerId = currentChat.members.filter(m => m != userId)\r\n            const getUser = async () => {\r\n                try {\r\n                    const res = await axios(`${process.env.REACT_APP_API_URL}/getOwner/${ownerId}`);\r\n                    setowner(res.data);\r\n                } catch (err) {\r\n                    console.log(err);\r\n                }\r\n            };\r\n            getUser();\r\n        }\r\n    }, [currentChat])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, [messages]);\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <NavBar />\r\n\r\n\r\n            <div className={ChatCss.messenger}>\r\n                <div className={ChatCss.chatMenu}>\r\n                    <div className={ChatCss.chatMenuWrapper}>\r\n                        <p className={ChatCss.messageBottom}>Chats</p>\r\n                        <hr/>\r\n                        {conversations.map((c) => (\r\n                            <div onClick={() => setCurrentChat(c)}>\r\n                                <Conversation conversation={c} currentUser={user} />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div className={ChatCss.chatBox}>\r\n                    <div className={ChatCss.chatBoxWrapper}>\r\n\r\n                        {owner?.username &&\r\n                            <div className={ChatCss.chatHeader}>\r\n                                <img\r\n                                    src={\r\n                                        owner?.profileImg ?\r\n                                            `${process.env.REACT_APP_API_URL}/usersImages/${owner.profileImg}`\r\n                                            :\r\n                                            '/assets/user.svg'\r\n                                    }\r\n                                    alt=\"user\"\r\n                                />\r\n                                <span>{owner?.username}</span>\r\n\r\n                            </div>\r\n                        }\r\n                        {currentChat ? (\r\n                            <>\r\n                                <div className={ChatCss.chatBoxTop}>\r\n                                    {messages.map((m) => (\r\n                                        <div ref={scrollRef}>\r\n                                            <Message message={m} own={m.sender === userId} owner={m.sender === userId ? user : owner} />\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                                <div className={ChatCss.chatBoxBottom}>\r\n                                    <textarea\r\n                                        className={ChatCss.chatMessageInput}\r\n                                        placeholder=\"write something...\"\r\n                                        onChange={(e) => setNewMessage(e.target.value)}\r\n                                        value={newMessage}\r\n                                    ></textarea>\r\n                                    <button className={ChatCss.chatSubmitButton} onClick={handleSubmit}>\r\n                                        <img src=\"/assets/send.svg\" alt=\"send\" />\r\n                                    </button>\r\n                                </div>\r\n                            </>\r\n                        ) : (\r\n                            <span className={ChatCss.noConversationText}>\r\n                                Open a conversation to start a chat.\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n            <Footer />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Chat;","import './App.css';\nimport React, { lazy, Suspense } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom'\nimport { AuthProvider } from './AuthContext'\nimport { VerifyAuth } from './VerifyAuth'\nimport Chat from './components/chat';\nconst Login = lazy(() => import('./components/login'))\nconst Home = lazy(() => import('./components/home'))\nconst BookDetails = lazy(() => import('./components/bookDetails'))\nconst Favorites = lazy(() => import('./components/favorites'))\nconst YourBooks = lazy(() => import('./components/yourBooks'))\nconst AddBook = lazy(() => import('./components/addBook'))\nconst EditProfile = lazy(() => import('./components/editProfile'))\nconst EditBook = lazy(() => import('./components/editBook'))\nconst About = lazy(() => import('./components/about'))\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Suspense fallback={<div id='loader'>\n          <div className='clones2'></div>\n        </div>}>\n          <Switch>\n\n\n            <Redirect exact from='/' to='/login' />\n\n            <Route exact path='/home'>\n              <VerifyAuth>\n                <Home />\n              </VerifyAuth>\n            </Route>\n\n            <Route exact path='/login'>\n              <Login />\n            </Route>\n\n            <Route path=\"/Book/:id\">\n              <VerifyAuth>\n                <BookDetails />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/yourBooks\">\n              <VerifyAuth>\n                <YourBooks />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/favorites\">\n              <VerifyAuth>\n                <Favorites />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/profile\">\n              <VerifyAuth>\n                <EditProfile />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/addBook\">\n              <VerifyAuth>\n                <AddBook />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/editBook/:id\">\n              <VerifyAuth>\n                <EditBook />\n              </VerifyAuth>\n            </Route>\n\n            <Route path=\"/about\">\n              <About />\n            </Route>\n\n            <Route path=\"/chat\">\n              <VerifyAuth>\n                <Chat />\n              </VerifyAuth>\n            </Route>\n\n\n          </Switch>\n        </Suspense>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}