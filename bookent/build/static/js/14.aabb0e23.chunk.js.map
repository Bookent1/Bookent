{"version":3,"sources":["../../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../../node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","../../src/index.tsx","components/home.js"],"names":["_setPrototypeOf","Object","o","p","subClass","superClass","setPrototypeOf","changedArray","a","b","initialState","error","ErrorBoundary","state","resetErrorBoundary","args","getDerivedStateFromError","reset","this","componentDidCatch","componentDidUpdate","resetKeys","prevState","prevProps","render","fallbackRender","FallbackComponent","fallback","props","React","Error","Component","Wrapped","name","setError","givenError","NavBar","lazy","Footer","Book","Welcome","Home","memo","useState","currentCountry","setcurrentCountry","currentGenere","setcurrentGenere","Search","setSearch","preSearch","setpreSearch","isLoading","setisLoading","books","useRef","hideLast","sethideLast","useContext","AuthContext","isLogged","logout","user","setuser","countriesList","categoryList","totalPages","settotalPages","pageNum","setpageNum","booksList","setbooksList","lastElement","setlastElement","observer","IntersectionObserver","entries","isIntersecting","root","rootMargin","threshold","useEffect","currentElement","currentObserver","current","observe","unobserve","axios","get","process","headers","JSON","parse","localStorage","getItem","token","then","res","data","catch","err","console","log","post","bookName","bookGenere","country","setGenere","genere","setCountry","useLayoutEffect","theme","document","documentElement","className","toString","HomeCss","themelight","themedark","addToFav","e","book","put","main","scrollTohalf","scrollIntoView","behavior","block","ref","search","onSubmit","preventDefault","type","onChange","target","value","placeholder","filters","onClick","src","alt","loading","bookslist","length","map","i","id","style","position","left","right","loader","clones2","countries","addsticky","to","imgsticky"],"mappings":"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","file":"static/js/14.aabb0e23.chunk.js","sourcesContent":["export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import * as React from 'react'\n\nconst changedArray = (a: Array<unknown> = [], b: Array<unknown> = []) =>\n  a.length !== b.length || a.some((item, index) => !Object.is(item, b[index]))\n\ninterface FallbackProps {\n  error: Error\n  resetErrorBoundary: (...args: Array<unknown>) => void\n}\n\ninterface ErrorBoundaryPropsWithComponent {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback?: never\n  FallbackComponent: React.ComponentType<FallbackProps>\n  fallbackRender?: never\n}\n\ndeclare function FallbackRender(\n  props: FallbackProps,\n): React.ReactElement<\n  unknown,\n  string | React.FunctionComponent | typeof React.Component\n> | null\n\ninterface ErrorBoundaryPropsWithRender {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback?: never\n  FallbackComponent?: never\n  fallbackRender: typeof FallbackRender\n}\n\ninterface ErrorBoundaryPropsWithFallback {\n  onResetKeysChange?: (\n    prevResetKeys: Array<unknown> | undefined,\n    resetKeys: Array<unknown> | undefined,\n  ) => void\n  onReset?: (...args: Array<unknown>) => void\n  onError?: (error: Error, info: {componentStack: string}) => void\n  resetKeys?: Array<unknown>\n  fallback: React.ReactElement<\n    unknown,\n    string | React.FunctionComponent | typeof React.Component\n  > | null\n  FallbackComponent?: never\n  fallbackRender?: never\n}\n\ntype ErrorBoundaryProps =\n  | ErrorBoundaryPropsWithFallback\n  | ErrorBoundaryPropsWithComponent\n  | ErrorBoundaryPropsWithRender\n\ntype ErrorBoundaryState = {error: Error | null}\n\nconst initialState: ErrorBoundaryState = {error: null}\n\nclass ErrorBoundary extends React.Component<\n  React.PropsWithRef<React.PropsWithChildren<ErrorBoundaryProps>>,\n  ErrorBoundaryState\n> {\n  static getDerivedStateFromError(error: Error) {\n    return {error}\n  }\n\n  state = initialState\n  resetErrorBoundary = (...args: Array<unknown>) => {\n    this.props.onReset?.(...args)\n    this.reset()\n  }\n\n  reset() {\n    this.setState(initialState)\n  }\n\n  componentDidCatch(error: Error, info: React.ErrorInfo) {\n    this.props.onError?.(error, info)\n  }\n\n  componentDidUpdate(\n    prevProps: ErrorBoundaryProps,\n    prevState: ErrorBoundaryState,\n  ) {\n    const {error} = this.state\n    const {resetKeys} = this.props\n\n    // There's an edge case where if the thing that triggered the error\n    // happens to *also* be in the resetKeys array, we'd end up resetting\n    // the error boundary immediately. This would likely trigger a second\n    // error to be thrown.\n    // So we make sure that we don't check the resetKeys on the first call\n    // of cDU after the error is set\n\n    if (\n      error !== null &&\n      prevState.error !== null &&\n      changedArray(prevProps.resetKeys, resetKeys)\n    ) {\n      this.props.onResetKeysChange?.(prevProps.resetKeys, resetKeys)\n      this.reset()\n    }\n  }\n\n  render() {\n    const {error} = this.state\n\n    const {fallbackRender, FallbackComponent, fallback} = this.props\n\n    if (error !== null) {\n      const props = {\n        error,\n        resetErrorBoundary: this.resetErrorBoundary,\n      }\n      if (React.isValidElement(fallback)) {\n        return fallback\n      } else if (typeof fallbackRender === 'function') {\n        return fallbackRender(props)\n      } else if (FallbackComponent) {\n        return <FallbackComponent {...props} />\n      } else {\n        throw new Error(\n          'react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop',\n        )\n      }\n    }\n\n    return this.props.children\n  }\n}\n\nfunction withErrorBoundary<P>(\n  Component: React.ComponentType<P>,\n  errorBoundaryProps: ErrorBoundaryProps,\n): React.ComponentType<P> {\n  const Wrapped: React.ComponentType<P> = props => {\n    return (\n      <ErrorBoundary {...errorBoundaryProps}>\n        <Component {...props} />\n      </ErrorBoundary>\n    )\n  }\n\n  // Format for display in DevTools\n  const name = Component.displayName || Component.name || 'Unknown'\n  Wrapped.displayName = `withErrorBoundary(${name})`\n\n  return Wrapped\n}\n\nfunction useErrorHandler(givenError?: unknown): (error: unknown) => void {\n  const [error, setError] = React.useState<unknown>(null)\n  if (givenError != null) throw givenError\n  if (error != null) throw error\n  return setError\n}\n\nexport {ErrorBoundary, withErrorBoundary, useErrorHandler}\nexport type {\n  FallbackProps,\n  ErrorBoundaryPropsWithComponent,\n  ErrorBoundaryPropsWithRender,\n  ErrorBoundaryPropsWithFallback,\n  ErrorBoundaryProps,\n}\n\n/*\neslint\n  @typescript-eslint/sort-type-union-intersection-members: \"off\",\n  @typescript-eslint/no-throw-literal: \"off\",\n  @typescript-eslint/prefer-nullish-coalescing: \"off\"\n*/\n","import React, { useContext, useRef, useState, useEffect, useLayoutEffect, lazy } from 'react'\r\nimport { AuthContext } from '../AuthContext'\r\nimport { Link } from 'react-router-dom';\r\nimport { ErrorBoundary } from 'react-error-boundary'\r\nimport axios from 'axios'\r\nimport HomeCss from './home/style.module.css';\r\nconst NavBar = lazy(() => import('./home/navBar'))\r\nconst Footer = lazy(() => import('./home/footer'))\r\nconst Book = lazy(() => import('./home/book'))\r\nconst Welcome = lazy(() => import('./home/welcome'))\r\n\r\n\r\nconst Home = React.memo(props => {\r\n    const [currentCountry, setcurrentCountry] = useState()\r\n    const [currentGenere, setcurrentGenere] = useState()\r\n    const [Search, setSearch] = useState()\r\n    const [preSearch, setpreSearch] = useState()\r\n    const [isLoading, setisLoading] = useState(true)\r\n\r\n    const books = useRef()\r\n    const [hideLast, sethideLast] = useState(false)\r\n\r\n    const { isLogged, logout, user, setuser, countriesList, categoryList } = useContext(AuthContext)\r\n\r\n    // for scroll fetch\r\n    const [totalPages, settotalPages] = useState(0)\r\n    const [pageNum, setpageNum] = useState(0)\r\n    const [booksList, setbooksList] = useState([])\r\n    const [lastElement, setlastElement] = useState(null);\r\n\r\n\r\n    const options = {\r\n        root: null,\r\n        rootMargin: \"0px\",\r\n        threshold: 1.0\r\n    };\r\n    const observer = useRef(\r\n        new IntersectionObserver((entries) => {\r\n            const first = entries[0];\r\n            if (first.isIntersecting) {\r\n                setpageNum(pageNum + 1);\r\n            }\r\n        },\r\n            options\r\n        )\r\n    );\r\n    useEffect(() => {\r\n        const currentElement = lastElement;\r\n        const currentObserver = observer.current;\r\n\r\n        if (currentElement) {\r\n            currentObserver.observe(currentElement);\r\n        }\r\n\r\n        return () => {\r\n            if (currentElement) {\r\n                currentObserver.unobserve(currentElement);\r\n            }\r\n        };\r\n    }, [lastElement])\r\n\r\n\r\n\r\n    // onload page get books\r\n    useEffect(() => {\r\n        if (!isLogged)\r\n            logout()\r\n        else {\r\n            setisLoading(true)\r\n            axios.get(`${process.env.REACT_APP_API_URL}/getBooks?page=${pageNum}`, {\r\n                headers: {\r\n                    \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                }\r\n            }).then(res => {\r\n                setisLoading(false)\r\n                settotalPages(res.data.totalPages)\r\n                setbooksList([...booksList, ...res.data.books])\r\n            })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }, [pageNum])\r\n\r\n\r\n    useEffect(() => {\r\n        if (!currentCountry && !currentGenere && !Search) {\r\n            setbooksList([])\r\n            if (pageNum === 0)\r\n                setpageNum('')\r\n            else\r\n                setpageNum(0)\r\n            sethideLast(false)\r\n        }\r\n    }, [currentCountry, currentGenere, Search])\r\n\r\n\r\n    // get books by name or other \r\n    const getSpecificBooks = useEffect(() => {\r\n        if (currentCountry || currentGenere || Search) {\r\n            setisLoading(true)\r\n            axios.post(`${process.env.REACT_APP_API_URL}/getSpecificBooks`, {bookName: Search || null, bookGenere: currentGenere || null, country: currentCountry || null},\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    setisLoading(false)\r\n                    setbooksList(res.data)\r\n                })\r\n                .catch(err => console.log(err))\r\n        }\r\n    }, [currentCountry, currentGenere, Search])\r\n\r\n\r\n\r\n    useLayoutEffect(() => {\r\n        let theme = localStorage.getItem('theme')\r\n        document.documentElement.className = theme.toString() === 'themelight' ?\r\n            HomeCss.themelight : HomeCss.themedark\r\n    }, [])\r\n\r\n    function scrollTohalf() {\r\n        books.current.scrollIntoView({ behavior: \"smooth\", block: 'start' });\r\n    }\r\n\r\n\r\n\r\n\r\n    function setGenere(genere) {\r\n        setcurrentGenere(genere)\r\n        sethideLast(true)\r\n    }\r\n    function setCountry(country) { setcurrentCountry(country) }\r\n\r\n\r\n\r\n\r\n    // add book to favorite\r\n\r\n    const addToFav = (e, book) => {\r\n        if (e) {\r\n            axios.put(`${process.env.REACT_APP_API_URL}/addToFav`, { book, user },\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => setuser(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n        else {\r\n            axios.put(`${process.env.REACT_APP_API_URL}/removeToFav`, { book, user },\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => setuser(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar categoryList={categoryList} countriesList={countriesList} setCountry={setCountry} setGenere={setGenere} />\r\n\r\n            <div className={HomeCss.main}>\r\n                <Welcome categoryList={categoryList} scrollTohalf={scrollTohalf} setGenere={setGenere} />\r\n\r\n                <div className={HomeCss.books} ref={books}>\r\n                    <div>\r\n                        <h3>Books</h3>\r\n                    </div>\r\n\r\n\r\n                    <div className={HomeCss.search}>\r\n                        <form onSubmit={(e) => { e.preventDefault(); sethideLast(true); setSearch(preSearch); }}>\r\n                            <input type=\"text\" onChange={e => {\r\n                                setpreSearch(e.target.value)\r\n                                if (e.target.value === '')\r\n                                    setSearch('')\r\n\r\n                            }} placeholder=\"search for a book..\" />\r\n                            <input type=\"submit\" value=' ' />\r\n                        </form>\r\n                    </div>\r\n\r\n                    <section className={HomeCss.filters}>\r\n                        {currentGenere &&\r\n                            <div>\r\n                                {currentGenere}\r\n                                <button onClick={() => (setcurrentGenere(''))}>\r\n                                    <img src='/assets/delete.svg' alt='del' loading='lazy' />\r\n                                </button>\r\n                            </div>\r\n                        }\r\n\r\n                        {currentCountry &&\r\n                            <div>\r\n                                {currentCountry}\r\n                                <button onClick={() => (setcurrentCountry(''))}>\r\n                                    <img src='/assets/delete.svg' alt='del' loading='lazy' />\r\n                                </button>\r\n                            </div>\r\n                        }\r\n                    </section>\r\n\r\n\r\n\r\n                    <div className={HomeCss.bookslist}>\r\n                        <ErrorBoundary fallback={<h1>Error Detected . Try again.</h1>}>\r\n                            {\r\n                                booksList.length > 0 ?\r\n                                    booksList.map((book, i) => {\r\n                                        return i === booksList.length - 1 && !isLoading &&\r\n                                            pageNum <= totalPages && !hideLast ?\r\n                                            (<div ref={setlastElement} id='lastBook' key={i}>\r\n                                                <Book book={book} addToFav={addToFav} />\r\n                                            </div>\r\n                                            )\r\n                                            :\r\n                                            (<Book book={book} addToFav={addToFav} key={i} />)\r\n                                    })\r\n                                    :\r\n                                    <center style={{position:'absolute', left:'0', right:'0'}}>No Books Found !</center>\r\n                            }\r\n                        </ErrorBoundary>\r\n                        <div id={HomeCss.loader}>\r\n                            {isLoading &&\r\n                                <div className={HomeCss.clones2}></div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    <div className={HomeCss.countries}>\r\n                        <select onChange={e => {\r\n                            setCountry(e.target.value)\r\n                            sethideLast(true)\r\n                        }}>\r\n                            <option value=''>Country :</option>\r\n                            {countriesList.map((country, i) => (<option key={i}>{country}</option>))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className={HomeCss.addsticky}>\r\n                        <Link to='addBook'>\r\n                            <p>Add Book</p>\r\n                            <img src=\"/assets/add.svg\" alt='add book'/>\r\n                        </Link>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <img id={HomeCss.imgsticky} src=\"/assets/Polygon 4.svg\" alt='shape'/>\r\n            <Footer logout={logout} />\r\n        </>\r\n    );\r\n})\r\nexport default Home\r\n"],"sourceRoot":""}