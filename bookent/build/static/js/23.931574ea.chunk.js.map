{"version":3,"sources":["components/yourBooks.js"],"names":["NavBar","lazy","Footer","Book","Welcome","YourBooks","books","useRef","useContext","AuthContext","user","setuser","useState","err","seterr","useLayoutEffect","theme","localStorage","getItem","document","documentElement","className","toString","RestCss","themelight","themedark","window","scrollTo","top","behavior","addToFav","e","book","axios","put","process","headers","JSON","parse","token","then","res","data","catch","console","log","deleteBook","confirm","response","main","scrollTohalf","current","scrollIntoView","block","ref","bookslist","booksList","length","map","_id","style","margin","id","imgsticky","src","alt","alert"],"mappings":"+KAIMA,EAASC,gBAAK,kBAAM,2CACpBC,EAASD,gBAAK,kBAAM,2CACpBE,EAAOF,gBAAK,kBAAM,kCAClBG,EAAUH,gBAAK,kBAAM,iCAiGZI,UA9Ff,WAAsB,IAAD,EACXC,EAAQC,mBAEd,EAA0BC,qBAAWC,KAA7BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAsBC,qBAAtB,mBAAOC,EAAP,KAAYC,EAAZ,KAEAC,2BAAgB,WACZ,IAAIC,EAAQC,aAAaC,QAAQ,SACjCC,SAASC,gBAAgBC,UAAiC,eAArBL,EAAMM,WACvCC,IAAQC,WAAaD,IAAQE,UAEjCC,OAAOC,SAAS,CACZC,IAAK,EACLC,SAAU,aAEf,IASH,IAAMC,EAAW,SAACC,EAAGC,GACT,IAAD,EAUF,EAVDD,EACAE,IAAMC,IAAN,UAAaC,wBAAb,aAAuD,CAAEH,OAAMtB,QAC3D,CACI0B,QAAS,CACL,2BAAkBC,KAAKC,MAAMrB,aAAaC,QAAQ,iBAAlD,aAAkB,EAA2CqB,SAGpEC,MAAK,SAAAC,GAAG,OAAI9B,EAAQ8B,EAAIC,SACxBC,OAAM,SAAA9B,GAAG,OAAI+B,QAAQC,IAAIhC,MAG9BoB,IAAMC,IAAN,UAAaC,wBAAb,gBAA0D,CAAEH,OAAMtB,QAC9D,CACI0B,QAAS,CACL,2BAAkBC,KAAKC,MAAMrB,aAAaC,QAAQ,iBAAlD,aAAkB,EAA2CqB,SAGpEC,MAAK,SAAAC,GAAG,OAAI9B,EAAQ8B,EAAIC,SACxBC,OAAM,SAAA9B,GAAG,OAAI+B,QAAQC,IAAIhC,OAIhCiC,EAAa,SAACd,GAC0C,IAAD,EAArDN,OAAOqB,QAAQ,sCACfd,IAAMC,IAAN,UAAaC,wBAAb,eAAyD,CAAEH,OAAMtB,QAC7D,CACI0B,QAAS,CACL,2BAAkBC,KAAKC,MAAMrB,aAAaC,QAAQ,iBAAlD,aAAkB,EAA2CqB,SAGpEC,MAAK,SAAAC,GAAG,OAAI9B,EAAQ8B,EAAIC,SACxBC,OAAM,SAAA9B,GAAG,OAAIC,EAAOD,EAAImC,SAASN,UAI9C,OACI,qCACI,cAAC1C,EAAD,IAEA,sBAAKqB,UAAWE,IAAQ0B,KAAxB,UACI,cAAC7C,EAAD,CAAS8C,aAhDrB,WACI5C,EAAM6C,QAAQC,eAAe,CAAEvB,SAAU,SAAUwB,MAAO,aAiDlD,sBAAKhC,UAAWE,IAAQjB,MAAOgD,IAAKhD,EAApC,UACI,8BACI,8CAIJ,qBAAKe,UAAWE,IAAQgC,UAAxB,UAEY,OAAJ7C,QAAI,IAAJA,OAAA,EAAAA,EAAM8C,aAAiB,OAAJ9C,QAAI,IAAJA,GAAA,UAAAA,EAAM8C,iBAAN,eAAiBC,QAAS,EACzC/C,EAAK8C,UAAUE,KAAI,SAAC1B,GAAD,OACd,cAAC7B,EAAD,CAAM6B,KAAMA,EAAMF,SAAUA,EAAUgB,WAAYA,GAAiBd,EAAK2B,QAG5E,wBAAQC,MAAO,CAAEC,OAAQ,UAAzB,sCAOrB,qBAAKC,GAAIvC,IAAQwC,UAAWC,IAAI,wBAAwBC,IAAI,UAC5D,cAAC/D,EAAD,IACCW,GAAOqD,MAAMrD","file":"static/js/23.931574ea.chunk.js","sourcesContent":["import RestCss from './favorites/style.module.css';\r\nimport React, { useRef, useState, useLayoutEffect, useContext, lazy } from 'react';\r\nimport { AuthContext } from '../AuthContext'\r\nimport axios from 'axios'\r\nconst NavBar = lazy(() => import('./favorites/navBar'))\r\nconst Footer = lazy(() => import('./home/footer'))\r\nconst Book = lazy(() => import('./favorites/books2'))\r\nconst Welcome = lazy(() => import('./favorites/welcome'))\r\n\r\n\r\nfunction YourBooks() {\r\n    const books = useRef()\r\n\r\n    const { user, setuser } = useContext(AuthContext)\r\n    const [err, seterr] = useState()\r\n\r\n    useLayoutEffect(() => {\r\n        let theme = localStorage.getItem('theme')\r\n        document.documentElement.className = theme.toString() === 'themelight' ?\r\n            RestCss.themelight : RestCss.themedark\r\n\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        })\r\n    }, [])\r\n\r\n    function scrollTohalf() {\r\n        books.current.scrollIntoView({ behavior: \"smooth\", block: 'start' });\r\n    }\r\n\r\n\r\n    // add book to favorite\r\n\r\n    const addToFav = (e, book) => {\r\n        if (e) {\r\n            axios.put(`${process.env.REACT_APP_API_URL}/addToFav`, { book, user },\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => setuser(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n        else {\r\n            axios.put(`${process.env.REACT_APP_API_URL}/removeToFav`, { book, user },\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => setuser(res.data))\r\n                .catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const deleteBook = (book) => {\r\n        if (window.confirm(\"Are you sure to delete this book!\")) {\r\n            axios.put(`${process.env.REACT_APP_API_URL}/deleteBook`, { book, user },\r\n                {\r\n                    headers: {\r\n                        \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n                    }\r\n                })\r\n                .then(res => setuser(res.data))\r\n                .catch(err => seterr(err.response.data))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <NavBar />\r\n\r\n            <div className={RestCss.main}>\r\n                <Welcome scrollTohalf={scrollTohalf} />\r\n\r\n                <div className={RestCss.books} ref={books}>\r\n                    <div>\r\n                        <h3>Your Books</h3>\r\n                    </div>\r\n\r\n\r\n                    <div className={RestCss.bookslist}>\r\n                        {\r\n                            user?.booksList && user?.booksList?.length > 0 ?\r\n                                user.booksList.map((book) =>\r\n                                    (<Book book={book} addToFav={addToFav} deleteBook={deleteBook} key={book._id} />)\r\n                                )\r\n                                :\r\n                                (<center style={{ margin: '0 auto' }}>No Books Found !</center>)\r\n                        }\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <img id={RestCss.imgsticky} src=\"/assets/Polygon 4.svg\" alt='shape' />\r\n            <Footer />\r\n            {err && alert(err)}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default YourBooks;\r\n"],"sourceRoot":""}