{"version":3,"sources":["components/favorites.js"],"names":["NavBar","lazy","Footer","Book","Welcome","Favorites","books","useRef","useContext","AuthContext","user","setuser","useLayoutEffect","theme","localStorage","getItem","document","documentElement","className","toString","RestCss","themelight","themedark","window","scrollTo","top","behavior","addToFav","e","book","axios","put","process","headers","JSON","parse","token","then","res","data","catch","err","console","log","main","scrollTohalf","current","scrollIntoView","block","ref","bookslist","favList","length","map","_id","style","margin","id","imgsticky","src","alt"],"mappings":"qGAAA,kEAIMA,EAASC,gBAAK,kBAAM,2CACpBC,EAASD,gBAAK,kBAAM,2CACpBE,EAAOF,gBAAK,kBAAM,kCAClBG,EAAUH,gBAAK,kBAAM,iCA2EZI,UAxEf,WAAsB,IAAD,EACbC,EAAQC,mBAEd,EAA0BC,qBAAWC,KAA7BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QAEdC,2BAAgB,WACd,IAAIC,EAAQC,aAAaC,QAAQ,SACjCC,SAASC,gBAAgBC,UAAiC,eAArBL,EAAMM,WACzCC,IAAQC,WAAaD,IAAQE,UAE/BC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,aAEX,IASH,IAAMC,EAAW,SAACC,EAAGC,GAAU,IAAD,EAC5BC,IAAMC,IAAN,UAAaC,wBAAb,gBAA0D,CAAEH,OAAMnB,QAChE,CACEuB,QAAS,CACP,2BAAkBC,KAAKC,MAAMrB,aAAaC,QAAQ,iBAAlD,aAAkB,EAA2CqB,SAGhEC,MAAK,SAAAC,GAAG,OAAI3B,EAAQ2B,EAAIC,SACxBC,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,OAI9B,OACE,qCACE,cAACzC,EAAD,IAEA,sBAAKkB,UAAWE,IAAQwB,KAAxB,UACE,cAACxC,EAAD,CAASyC,aAxBf,WACEvC,EAAMwC,QAAQC,eAAe,CAAErB,SAAU,SAAUsB,MAAO,aAyBtD,sBAAK9B,UAAWE,IAAQd,MAAO2C,IAAK3C,EAApC,UACE,8BACE,6CAKF,qBAAKY,UAAWE,IAAQ8B,UAAxB,UAEQ,OAAJxC,QAAI,IAAJA,OAAA,EAAAA,EAAMyC,WAAe,OAAJzC,QAAI,IAAJA,GAAA,UAAAA,EAAMyC,eAAN,eAAeC,QAAS,EACvC1C,EAAKyC,QAAQE,KAAI,SAACxB,GAAD,OACd,cAAC1B,EAAD,CAAM0B,KAAMA,EAAMF,SAAUA,GAAeE,EAAKyB,QAGlD,wBAAQC,MAAO,CAAEC,OAAQ,UAAzB,sCAUX,qBAAKC,GAAIrC,IAAQsC,UAAWC,IAAI,wBAAwBC,IAAI,UAC5D,cAAC1D,EAAD","file":"static/js/20.3dbd34dc.chunk.js","sourcesContent":["import RestCss from './favorites/style.module.css';\r\nimport React, { useRef, useLayoutEffect, useContext, lazy } from 'react';\r\nimport { AuthContext } from '../AuthContext'\r\nimport axios from 'axios'\r\nconst NavBar = lazy(() => import('./favorites/navBar'))\r\nconst Footer = lazy(() => import('./home/footer'))\r\nconst Book = lazy(() => import('./favorites/book'))\r\nconst Welcome = lazy(() => import('./favorites/welcome'))\r\n\r\n\r\nfunction Favorites() {\r\n  const books = useRef()\r\n\r\n  const { user, setuser } = useContext(AuthContext)\r\n\r\n  useLayoutEffect(() => {\r\n    let theme = localStorage.getItem('theme')\r\n    document.documentElement.className = theme.toString() === 'themelight' ?\r\n      RestCss.themelight : RestCss.themedark\r\n\r\n    window.scrollTo({\r\n      top: 0,\r\n      behavior: 'smooth'\r\n    })\r\n  }, [])\r\n\r\n  function scrollTohalf() {\r\n    books.current.scrollIntoView({ behavior: \"smooth\", block: 'start' });\r\n  }\r\n\r\n\r\n  // add book to favorite\r\n\r\n  const addToFav = (e, book) => {\r\n    axios.put(`${process.env.REACT_APP_API_URL}/removeToFav`, { book, user },\r\n      {\r\n        headers: {\r\n          \"x-access-token\": JSON.parse(localStorage.getItem('token'))?.token\r\n        }\r\n      })\r\n      .then(res => setuser(res.data))\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <NavBar />\r\n\r\n      <div className={RestCss.main}>\r\n        <Welcome scrollTohalf={scrollTohalf} />\r\n\r\n        <div className={RestCss.books} ref={books}>\r\n          <div>\r\n            <h3>Favourite</h3>\r\n          </div>\r\n\r\n\r\n\r\n          <div className={RestCss.bookslist}>\r\n            {\r\n              user?.favList && user?.favList?.length > 0 ?\r\n                user.favList.map((book) =>\r\n                  (<Book book={book} addToFav={addToFav} key={book._id} />)\r\n                )\r\n                :\r\n                (<center style={{ margin: '0 auto' }}>No Books Found !</center>)\r\n            }\r\n          </div>\r\n\r\n\r\n\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <img id={RestCss.imgsticky} src=\"/assets/Polygon 4.svg\" alt='shape'/>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n"],"sourceRoot":""}